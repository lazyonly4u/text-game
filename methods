

using System.ComponentModel;
using System.Reflection.PortableExecutable;

namespace Methods
{    


    public class Room
    {
        public string Name { get; set; }
        public string Description { get; set; }

        //public List<Item> Items { get; set; } = new List<Item>();

        public Room(string Name, string Description)
        {
            this.Name = Name;
            this.Description = Description;
        }
        public void Enter()
        {
            Console.Clear();
            Console.WriteLine($"You enter: {Name}");
            Console.WriteLine(Description);

        }
        //public void AddIteam(Item item)
        //{
        //    Items.Add(item);
        //}
    }


    public class Monster
    {
        public string Name { get; set; }
        public int Health { get; set; }
        public int Damage { get; set; }
        public int Coins { get; set; }
        public int Amount { get; set; }

        public Monster(string Name, int Health, int Damage, int Coins, int Amount)
        {
            this.Name = Name;
            this.Health = Health;
            this.Damage = Damage;
            this.Coins = Coins;
            this.Amount = Amount;
        }
    }


    public class Shop
    {
        public static void DisplayShop(List<weapons> shopWeapons)
        {
            Console.WriteLine("Welcome to the shop!");
            Console.WriteLine("Here are the items available for purchase:\n");

            for (int i = 0; i < shopWeapons.Count; i++)
            {
                var w = shopWeapons[i];
                Console.WriteLine($"{i + 1}. {w.Name} - {w.Cost} coins - Damage {w.Damage}");
            }
            Console.WriteLine($"{shopWeapons.Count + 1}. Exit Shop");

            Console.WriteLine("\nEnter the number of the weapon you want to buy, or exit:");
            string input = Console.ReadLine();
            if (int.TryParse(input, out int choice))
            {
                if (choice >= 1 && choice <= shopWeapons.Count)
                {
                    var selected = shopWeapons[choice - 1];
                    if (Player.Coins >= selected.Cost)
                    {
                        Player.Coins -= selected.Cost;
                        Player.Weapon = selected.Name;
                        Console.WriteLine($"You bought and equipped the {selected.Name}!");
                    }
                    else
                    {
                        Console.WriteLine("You don't have enough coins!");
                    }
                }
                else if (choice == shopWeapons.Count + 1)
                {
                    Console.WriteLine("Exiting shop.");
                }
                else
                {
                    Console.WriteLine("Invalid choice.");
                }
            }
            else
            {
                Console.WriteLine("Invalid input.");
            }
        }
    }

    public class health
    {
        public string Name { get; set; }
        public int Cost { get; set; }
        public int Heal { get; set; }
        public health(string Name, int Cost, int Heal)
        {
            this.Name = Name;
            this.Cost = Cost;
            this.Heal = Heal;
        }
    }
    public class weapons
    {
        public string Name { get; set; }
        public int Cost { get; set; }
        public int Damage { get; set; }
        public bool IsRanged { get; set; }
        public int UsesLeft { get; set; }

        public weapons(string Name, int Cost, int Damage, bool IsRanged, int UsesLeft)
        {
            this.Name = Name;
            this.Cost = Cost;
            this.Damage = Damage;
            this.IsRanged = IsRanged;
            this.UsesLeft = UsesLeft;


        }
    }

    public class secretitems
    {
        private static int wrongAttempts = 0;

        public static void DisplaySecretItems()
        {
            Console.WriteLine("Welcome to the Secret Items Shop! Please enter the code:");
            string code = Console.ReadLine().ToLower();

            if (code == "magi")
            {
                Console.WriteLine("You have entered Magical girl wand damage: 1000, do you wish to add into your inventory? (y or n):");

                wrongAttempts = 0; // reset on success
            }
            else if (code == "av4")
            {
                Console.WriteLine("You have entered Avatar powers damage: 880, do you wish to add into your inventory? (y or n):");

                wrongAttempts = 0; // reset on success
            }
            else if (code == "l0st")
            {
                Console.WriteLine("You have entered Lostvayne (seven deadly sins) damage: 500, do you wish to add into your inventory? (y or n):");
                // Add logic to add to inventory if 'y'
                wrongAttempts = 0; // reset on success
            }
            else
            {
                wrongAttempts++;
                int penalty = wrongAttempts == 1 ? 1 : (wrongAttempts - 1) * 5;
                Console.WriteLine($"Invalid code. Punishment: -{penalty} coins.");
                Player.Coins -= penalty;
                Console.WriteLine($"You now have {Player.Coins} coins.");
                Console.WriteLine("Press Enter to continue...");
                Console.ReadLine();
            }
        }
    }

    public class Inventory
    {
        public static void DisplayInventory()
        {
            Console.WriteLine("Your Inventory:");
            Console.WriteLine($"Health: {Player.Health}");
            Console.WriteLine($"Coins: {Player.Coins}");
            Console.WriteLine($"Weapon: {Player.Weapon}");
            if (Player.Items.Count > 0)
            {
                Console.WriteLine("Items:");
                foreach (var item in Player.Items)
                {
                    Console.WriteLine($"- {item}");
                }
            }
            else
            {
                Console.WriteLine("No other items in inventory.");
            }
            Console.WriteLine("Press Enter to continue...");
            Console.ReadLine();
        }
    }


    public class Combat
    {
        public static void Fight(Monster monster)
        {
            Console.WriteLine($"A wild {monster.Name} appears!");
            int monsterHealth = monster.Health;
            int monsterDamage = monster.Damage;
            int monsterCoins = monster.Coins;
            int monsterAmount = monster.Amount;
            int playerAttack = GetPlayerAttack();

            while (monsterHealth > 0 && Player.Health > 0)
            {
                Console.WriteLine($"\nYour Health: {Player.Health} | {monster.Name} Health: {monsterHealth} Damage: {monsterDamage} Coin Drops: {monsterCoins} Amount of Monsters {monsterAmount}");
                Console.WriteLine("Choose your action: (attack/run)");
                string action = Console.ReadLine().ToLower();

                if (action == "attack")
                {
                    monsterHealth -= playerAttack;
                    Console.WriteLine($"You attack with your {Player.Weapon} and deal {playerAttack} damage!");

                    if (monsterHealth <= 0)
                    {
                        Console.WriteLine($"You defeated the {monster.Name}!");
                        break;
                    }

                    Player.Health -= monster.Damage;
                    Console.WriteLine($"The {monster.Name} attacks you and deals {monster.Damage} damage!");
                }
                else if (action == "run")
                {
                    Console.WriteLine("You attempt to run away...");
                    // Add any run consequences here if you want
                    break;
                }
                else
                {
                    Console.WriteLine("Invalid action. The monster attacks you!");
                    Player.Health -= monster.Damage;
                }
            }

            if (Player.Health <= 0)
            {
                Console.WriteLine("hahahahahah you died lol");
            }
        }

        private static int GetPlayerAttack()
        {
            // You can make this more dynamic if you want to use weapon objects
            return Player.Weapon switch
            {
                "Wooden Sword" => 5,
                "Long Slender Blade" => 15,
                "French Thin Pencil Sword" => 20,
                "Arab Curved Thin Sword" => 35,
                "Curved Knife" => 10,
                "Long Horseback Bow" => 15,
                "Strong Blow Bow" => 35,
                _ => 2 // default for fists or unknown weapon
            };
        }
    }


    public class Player
    {
        public static int Health { get; set; } = 50;
        public static int Coins { get; set; } = 10;
        public static string Weapon { get; set; }
        public static List<string> Items { get; set; } = new List<string>();

        public static Room CurrentRoom { get; set; }
        public static void DisplayStats()
        {
            Console.WriteLine($"Health: {Health}");
            Console.WriteLine($"Coins: {Coins}");
            Console.WriteLine($"Weapon: {Weapon}");
        }
    }


    public class CREDITS
        {
        public static void DisplayCredits()
        {
            Console.WriteLine("Honorable mentions");
            Console.WriteLine("\r\nGame Name\r\n");
            Console.WriteLine("You, a Sword, and Some Bad Decisions .");

            Console.WriteLine("The Quest for More Coins (Because Why Not)");

            Console.WriteLine("Coins, Cuts, and Confusion");

            Console.WriteLine("The Dungeon Thatâ€™s Kinda Meh");

            Console.WriteLine("Swords, Spikes, and Silly Fights");

            Console.WriteLine("\r\nFinal Boss:\r\n");

            Console.WriteLine("Chi-Yu\r\nChien-Pao\r\n");

            Console.WriteLine("Scream Tail\r\nJigglypuff\r\n");

            Console.WriteLine("Snom\r\nYamask\r\n");

            Console.WriteLine("Magikarp\r\nGyarados\r\n");

            Console.WriteLine("Arceus\r\nDiancie\r\n");

            Console.WriteLine("Credits:\r\n");

            Console.Clear();

            Console.WriteLine("Game Idea: ME");
            Console.WriteLine("Game Design: ME");
            Console.WriteLine("Programming: ME");
            Console.WriteLine("\r\nGraphics: Visual Studio\r\n");

            Console.WriteLine("Special Thanks: Louise Christine Popp-Madsen, Zamzam Abdigani Ali, Sudden Motivation, Github, Copilot, My Sanity, My Brain Cells, Youtube, Spotify");
            Console.WriteLine("\r\nPlaytesting: ME\r\n");
            Console.WriteLine("Thanks for playing ig");
            Console.WriteLine("This game was created as a fun project and as an assignment");
            Console.WriteLine("Hope it was aight.");
            Console.WriteLine("If you have any feedback or suggestions, please DO NOT feel free to reach out.\r\n");

            Console.WriteLine("Press any key to return to the main menu.");
            Console.ReadKey();
        }
    }

    public class Exit
    {
        public static void ExitGame()
        {
            Console.WriteLine("Are you SURE you want to exit? (yes/no)");
            string choice = Console.ReadLine();
            if (choice.ToLower() == "yes")
            {
                Console.WriteLine("Dawm ok... Farewell Adventurere, May the abyss be to your liking");
                Environment.Exit(0);
            }
            else
            {
                Console.WriteLine("Returning to the game...");
            }
        }
    }


    public class items
    {
        public static void DisplayItems()
        {
            Console.WriteLine("Available Items:");
            Console.WriteLine("1. Health Potion - Restores 10 health points.");
            Console.WriteLine("2. Weed - Restores 5 health points.");
            Console.WriteLine("3. Wooden Sword - Basic weapon with low damage.");
            Console.WriteLine("4. Curved Knife - Increases damage by 10 points.");
            Console.WriteLine("5. Long Slender Blade - Increases damage by 15 points.");
            Console.WriteLine("6. French Thin Pencil Sword - Increases damage by 20 points.");
            Console.WriteLine("7. Arab Curved Thin Sword - Increases damage by 35 points.");
            Console.WriteLine("8. Long Horseback Bow - Increases damage by 15 points.");
            Console.WriteLine("9. Strong Blow Bow - Increases damage by 35 points.");
        }
    }



}


